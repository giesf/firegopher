{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"What is firegopher? Firegopher is a toolchain for easily running Firecracker MicroVMs on a Linux host. The project currently consists of an installer, a tool to start MicroVMs in a jailed environment and a very basic init system that is used to run simple web applications inside of the MicroVMs. The project is in its very early stages and has currently very little use outside of teaching its creator a lot about operating systems, golang and how Firecracker works. This being said, it might also be an interesting starting point for others looking into integrating Firecracker. This project is not meant to be used in production environments. You can read more about this under Known Limitations .","title":"What is firegopher?"},{"location":"#what-is-firegopher","text":"Firegopher is a toolchain for easily running Firecracker MicroVMs on a Linux host. The project currently consists of an installer, a tool to start MicroVMs in a jailed environment and a very basic init system that is used to run simple web applications inside of the MicroVMs. The project is in its very early stages and has currently very little use outside of teaching its creator a lot about operating systems, golang and how Firecracker works. This being said, it might also be an interesting starting point for others looking into integrating Firecracker. This project is not meant to be used in production environments. You can read more about this under Known Limitations .","title":"What is firegopher?"},{"location":"1-getting-started/","text":"Getting Started Firegopher is a toolchain for easily running Firecracker MicroVMs on a Linux host. The following guide will walk you through running your first micro VM. It assumes that you are using a more or less blank Linux host. Prerequisites Firegopher currently only officially supports Ubuntu Jammy Jellyfish as a host operating system. This is mostly due to the fact that firegopher depends on debugfs >=1.46.5 . In general firegopher only works on linux as it uses Firecracker which uses KVM . Installing firegopher To install firegopher run the install script from the website. curl -fsSL https://firegopher.dev/install | bash Downloading assets and additional dependencies Firegopher needs a kernel and root filesystem for its VMs and also a version of Firecracker (including Jailer) to run them. To make the installation of these dependencies easier firegopher comes with a bootstrap command that installs them. sudo fgoph bootstrap Run your first VM You can download an example app.zip file to use for demo purposes wget https://firegopher.dev/example-app.zip To run the example application use sudo fgoph run --app=\"example-app.zip\" --exec=\"python3 app.py\" The command output should tell you the virtual IP that has been assigned to the VM. You can try sending a request to the app by running the following command in a new terminal session: curl http://172.19.0.2:8000 (The IP might be different depending on what IPs are still available for asignment on your host machine)","title":"Getting Started"},{"location":"1-getting-started/#getting-started","text":"Firegopher is a toolchain for easily running Firecracker MicroVMs on a Linux host. The following guide will walk you through running your first micro VM. It assumes that you are using a more or less blank Linux host.","title":"Getting Started"},{"location":"1-getting-started/#prerequisites","text":"Firegopher currently only officially supports Ubuntu Jammy Jellyfish as a host operating system. This is mostly due to the fact that firegopher depends on debugfs >=1.46.5 . In general firegopher only works on linux as it uses Firecracker which uses KVM .","title":"Prerequisites"},{"location":"1-getting-started/#installing-firegopher","text":"To install firegopher run the install script from the website. curl -fsSL https://firegopher.dev/install | bash","title":"Installing firegopher"},{"location":"1-getting-started/#downloading-assets-and-additional-dependencies","text":"Firegopher needs a kernel and root filesystem for its VMs and also a version of Firecracker (including Jailer) to run them. To make the installation of these dependencies easier firegopher comes with a bootstrap command that installs them. sudo fgoph bootstrap","title":"Downloading assets and additional dependencies"},{"location":"1-getting-started/#run-your-first-vm","text":"You can download an example app.zip file to use for demo purposes wget https://firegopher.dev/example-app.zip To run the example application use sudo fgoph run --app=\"example-app.zip\" --exec=\"python3 app.py\" The command output should tell you the virtual IP that has been assigned to the VM. You can try sending a request to the app by running the following command in a new terminal session: curl http://172.19.0.2:8000 (The IP might be different depending on what IPs are still available for asignment on your host machine)","title":"Run your first VM"},{"location":"2-user-guide/","text":"Advanced Usage & Known Limitations Networking The current state of the networking stack should be considered unstable. Every time you run a new microVM firegopher creates a new tap device and assigns it an unused IP from the range 172.19.0.0/16 . This is somewhat wasteful as this results in creating a lot of dangling network devices and assigned IPs. You are currently responsible for cleaning them up. There is currently no way of predefining a static IP for a microVM. Base images Currently the only officially supported base image is a slightly modified version of Ubuntu 22.04 Minimal for demo purposes. You can create your own base image to be used with firegopher by following the process outlined by the Firecracker team here and placing the resulting imagename.ext4 file in /srv/firegopher . Afterwards you can use the base image by running firegopher with the flag --baseImage=imagename . Persistent storage Currently you can only run firegopher with a single persistent volume that is always mounted to /data . Right now you are responsible for creating a image file to back that volume and provide it through the dataVolume flag (e.g. --dateVolume=volume.img ). Firegopher should be considered unstable and unfit for production use-cases In addition to the lacking testing infrastructure this project currently does not implement the basic security and performance considerations needed to run Firecracker in production. This is due to the fact that it was created as a proof of concept in the context of a university project at CODE UAS Berlin . Firecracker production host recommendations Currently firegopher does not implement the production host setup recommendations that the AWS Firecracker team has provided in their git repo . Memory usage Firecracker has the habit of eating up as much ram as it can get its hands on without returning it to the system. You can read a Hacker News thread discussing this here . An option for dealing with this is using a memory baloon device with Firecracker , which firegopher currently does not do.","title":"Advanced Usage & Known Limitations"},{"location":"2-user-guide/#advanced-usage-known-limitations","text":"","title":"Advanced Usage &amp; Known Limitations"},{"location":"2-user-guide/#networking","text":"The current state of the networking stack should be considered unstable. Every time you run a new microVM firegopher creates a new tap device and assigns it an unused IP from the range 172.19.0.0/16 . This is somewhat wasteful as this results in creating a lot of dangling network devices and assigned IPs. You are currently responsible for cleaning them up. There is currently no way of predefining a static IP for a microVM.","title":"Networking"},{"location":"2-user-guide/#base-images","text":"Currently the only officially supported base image is a slightly modified version of Ubuntu 22.04 Minimal for demo purposes. You can create your own base image to be used with firegopher by following the process outlined by the Firecracker team here and placing the resulting imagename.ext4 file in /srv/firegopher . Afterwards you can use the base image by running firegopher with the flag --baseImage=imagename .","title":"Base images"},{"location":"2-user-guide/#persistent-storage","text":"Currently you can only run firegopher with a single persistent volume that is always mounted to /data . Right now you are responsible for creating a image file to back that volume and provide it through the dataVolume flag (e.g. --dateVolume=volume.img ).","title":"Persistent storage"},{"location":"2-user-guide/#firegopher-should-be-considered-unstable-and-unfit-for-production-use-cases","text":"In addition to the lacking testing infrastructure this project currently does not implement the basic security and performance considerations needed to run Firecracker in production. This is due to the fact that it was created as a proof of concept in the context of a university project at CODE UAS Berlin .","title":"Firegopher should be considered unstable and unfit for production use-cases"},{"location":"2-user-guide/#firecracker-production-host-recommendations","text":"Currently firegopher does not implement the production host setup recommendations that the AWS Firecracker team has provided in their git repo .","title":"Firecracker production host recommendations"},{"location":"2-user-guide/#memory-usage","text":"Firecracker has the habit of eating up as much ram as it can get its hands on without returning it to the system. You can read a Hacker News thread discussing this here . An option for dealing with this is using a memory baloon device with Firecracker , which firegopher currently does not do.","title":"Memory usage"},{"location":"3-architecture/","text":"Architecture The firegopher project is made up of three main parts: The VM Runner , which prepares the host system and starts the guest VM The Guest Init System , which runs inside of the guest VM and starts the user workload A set of customised root filesystems ( Base Images ) to be used for the guest VM and an Asset Manager to install and manage them VM Runner The VM Runner has four main responsibilities: It prepares the root file system for the guest VM by unpacking the user assets into a copy of the chosen Base Image and creating a configuration file that instructs the Guest Init System on what to do with them It prepares the Firecracker Jail by first creating a directory that will later be used by the Firecracker Jailer as a CHROOT root directory and copying/hardlinking all the assets that are needed to run the guest VM into it It creates and configures the network device needed for the guest VM It starts the jailed Firecracker process and supervises it Guest Init System The Guest Init System is a barebones init system specifically designed to run a single application inside of a VM. At its core it is a go-rewrite of fly-init-snapshot . The main responsibilities of the guest init system are: reading the configuration passed to it from the VM Runner mounting the root file system mounting all the required device files configuring the network interface dropping root privileges starting the user workload and supervising it Asset Manager The Asset Manager is currently in the early stages of its development. In its current state it is little more than a glorified download script. It downloads the following assets: A Linux Kernel Image A specific version of Firecracker (currently 1.6.0) A modified version of the Ubuntu 22.04 root file system Base Images Currently there is only one officially supported base image available to be used with firegopher. It is a slightly modified version of Ubuntu 22.04 Minimal . The modifications that are currently done to create the finished base image are: Installing ca-certificates , curl and python3 Clearing out the existing package lists afterwards by deleting all files in /var/lib/apt/lists/ The current base image creation process is heavily based on the process outlined by the Firecracker team here . Networking The current networking setup is in its very early-stages and should not be considered stable. Firegopher is designed to be used with a reverse proxy on the host machine that routes incoming traffic to the different running microVMs. In the future Firegopher will automatically configure a reverse proxy based on the users needs. Currently users need to configure a reverse proxy manually. Currently every microVM is automatically assigned a non-internet-routable IP in the range 172.19.0.0/16. The host system is instructed to forward all traffic from the microVM to the internet.","title":"Architecture"},{"location":"3-architecture/#architecture","text":"The firegopher project is made up of three main parts: The VM Runner , which prepares the host system and starts the guest VM The Guest Init System , which runs inside of the guest VM and starts the user workload A set of customised root filesystems ( Base Images ) to be used for the guest VM and an Asset Manager to install and manage them","title":"Architecture"},{"location":"3-architecture/#vm-runner","text":"The VM Runner has four main responsibilities: It prepares the root file system for the guest VM by unpacking the user assets into a copy of the chosen Base Image and creating a configuration file that instructs the Guest Init System on what to do with them It prepares the Firecracker Jail by first creating a directory that will later be used by the Firecracker Jailer as a CHROOT root directory and copying/hardlinking all the assets that are needed to run the guest VM into it It creates and configures the network device needed for the guest VM It starts the jailed Firecracker process and supervises it","title":"VM Runner"},{"location":"3-architecture/#guest-init-system","text":"The Guest Init System is a barebones init system specifically designed to run a single application inside of a VM. At its core it is a go-rewrite of fly-init-snapshot . The main responsibilities of the guest init system are: reading the configuration passed to it from the VM Runner mounting the root file system mounting all the required device files configuring the network interface dropping root privileges starting the user workload and supervising it","title":"Guest Init System"},{"location":"3-architecture/#asset-manager","text":"The Asset Manager is currently in the early stages of its development. In its current state it is little more than a glorified download script. It downloads the following assets: A Linux Kernel Image A specific version of Firecracker (currently 1.6.0) A modified version of the Ubuntu 22.04 root file system","title":"Asset Manager"},{"location":"3-architecture/#base-images","text":"Currently there is only one officially supported base image available to be used with firegopher. It is a slightly modified version of Ubuntu 22.04 Minimal . The modifications that are currently done to create the finished base image are: Installing ca-certificates , curl and python3 Clearing out the existing package lists afterwards by deleting all files in /var/lib/apt/lists/ The current base image creation process is heavily based on the process outlined by the Firecracker team here .","title":"Base Images"},{"location":"3-architecture/#networking","text":"The current networking setup is in its very early-stages and should not be considered stable. Firegopher is designed to be used with a reverse proxy on the host machine that routes incoming traffic to the different running microVMs. In the future Firegopher will automatically configure a reverse proxy based on the users needs. Currently users need to configure a reverse proxy manually. Currently every microVM is automatically assigned a non-internet-routable IP in the range 172.19.0.0/16. The host system is instructed to forward all traffic from the microVM to the internet.","title":"Networking"},{"location":"4-roadmap/","text":"Roadmap","title":"Roadmap"},{"location":"4-roadmap/#roadmap","text":"","title":"Roadmap"},{"location":"5-contributing/","text":"Contributing","title":"Contributing"},{"location":"5-contributing/#contributing","text":"","title":"Contributing"}]}